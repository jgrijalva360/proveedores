<div class="container-fluid">
  <div class="row box">
    <div class="col-12 text-center">
      <h3>Deal Memo</h3>
    </div>
  </div>
  <!-- Personas que prestan el servicio -->
  <div
    class="row box text-center justify-content-center"
    *ngIf="usuario.persona === 'Moral'"
  >
    <div class="col-12">
      <h5>Personas que prestan el servicio</h5>
    </div>

    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th class="text-center">Nombre</th>
            <th class="text-center">RFC</th>
            <th class="text-center">Puesto</th>
            <th class="text-center">Acción</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="dealMemo.personasPS.length === 0">
            <td colspan="3" class="text-center font-weight-bold">
              No has agregado personas
            </td>
          </tr>
          <tr *ngFor="let datos of dealMemo.personasPS; let i = index">
            <td>{{ datos.nombre }}</td>
            <td>{{ datos.rfc }}</td>
            <td>{{ datos.puesto }}</td>
            <td>
              <button type="button" class="btn btn-danger btn-sm mx-1">
                <i class="fas fa-times-circle"></i>
              </button>
            </td>
          </tr>

          <tr>
            <td>
              <input
                type="text"
                class="form-control"
                name="nombrePS"
                id="nombrePS"
                placeholder="Nombre"
                maxlength="50"
                [(ngModel)]="persona.nombre"
              />
            </td>
            <td>
              <input
                type="text"
                class="form-control"
                name="rfcPS"
                id="rfcPS"
                placeholder="RFC"
                maxlength="13"
                [(ngModel)]="persona.rfc"
              />
            </td>
            <td>
              <input
                type="text"
                class="form-control"
                name="puestoPS"
                id="puestoPS"
                placeholder="Puesto"
                maxlength="80"
                [(ngModel)]="persona.puesto"
              />
            </td>
            <td class="text-center">
              <button
                type="button"
                class="btn btn-success btn-sm mx-1"
                (click)="addPeople()"
              >
                <i class="fas fa-plus-circle"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- Datos de produccion -->
  <div class="row box text-center">
    <div class="col-12">
      <h5>Datos de producción</h5>
    </div>
    <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
      <div class="form-group">
        <label for="">Departamento</label>
        <input
          type="text"
          class="form-control"
          name=""
          id=""
          aria-describedby="helpId"
          placeholder=""
          [(ngModel)]="dealMemo.departamento"
        />
      </div>
    </div>
    <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
      <div class="form-group">
        <label for="">Puesto</label>
        <input
          type="text"
          class="form-control"
          name=""
          id=""
          aria-describedby="helpId"
          placeholder=""
          [(ngModel)]="dealMemo.puesto"
        />
      </div>
    </div>
    <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
      <div class="form-group">
        <label for="">Nombre en créditos</label>
        <input
          type="text"
          class="form-control"
          name="nombreCreditos"
          id="nombreCreditos"
          aria-describedby="helpId"
          placeholder=""
          [(ngModel)]="dealMemo.nombreEnCreditos"
        />
      </div>
    </div>
    <!-- <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
        <div class="form-group">
          <label for="">Periodo de contratación</label>
          <input
            type="text"
            class="form-control"
            name="periodoContratacion"
            id="periodoContratacion"
            aria-describedby="helpId"
            placeholder=""
            [(ngModel)]="dealMemo.periodoContratacion"
          />
        </div>
      </div> -->
    <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
      <div class="form-group">
        <label for="">Descripción de la actividad</label>
        <input
          type="text"
          class="form-control"
          name="descripcionAct"
          id="descripcionAct"
          aria-describedby="helpId"
          placeholder=""
          [(ngModel)]="dealMemo.descripcionActividad"
        />
      </div>
    </div>
    <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
      <div class="form-group">
        <label for="">Fecha de firma del contrato</label>
        <input
          type="date"
          class="form-control"
          name="fechaFirma"
          id="fechaFirma"
          aria-describedby="helpId"
          placeholder=""
          required
          [(ngModel)]="dealMemo.fechaFirmaContrato"
        />
      </div>
    </div>
    <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
      <div class="form-group">
        <label for="">Moneda</label>
        <select
          class="form-control"
          name="tipoMoneda"
          id="tipoMoneda"
          [(ngModel)]="dealMemo.tipoMoneda"
        >
          <option value="MXN">Peso Mexicano</option>
          <option value="USD">Dólar Estadounidense</option>
          <option value="EUR">Euro</option>
        </select>
      </div>
    </div>
  </div>
  <!-- Pagos -->
  <div class="row box justify-content-center">
    <div class="col-12 text-center">
      <h5>Pagos</h5>
    </div>
    <div class="table-responsive mt-3">
      <table class="table">
        <thead>
          <tr>
            <th class="text-center">Pago</th>
            <th>Importe</th>
            <th>Periodo</th>
            <th>fecha Inicio</th>
            <th>fecha Fin</th>
            <th class="text-center">Acción</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="6" class="font-weight-bold text-center">
              No has agregado pagos
            </td>
          </tr>
          <tr *ngFor="let movimiento of dealMemo.pagos; let i = index">
            <th class="text-center">{{ i + 1 }}</th>
            <td>{{ movimiento.importe | number: "1.2-3" }}</td>
            <td>{{ movimiento.periodo }}</td>
            <td>{{ movimiento.fechaInicio | date }}</td>
            <td>{{ movimiento.fechaFin | date }}</td>
            <td class="text-center">
              <button type="button" class="btn btn-danger btn-sm mx-1">
                <i class="fas fa-times-circle"></i>
              </button>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <th class="font-weight-bold">Total:</th>
            <td class="font-weight-bold">{{ suma | number: "1.2-3" }}</td>
            <td class="text-center">-</td>
            <td class="text-center">-</td>
            <td class="text-center">-</td>
          </tr>
          <tr>
            <th class="text-center">{{ dealMemo.pagos.length + 1 }}</th>
            <td>
              <input
                type="number"
                id="importe"
                name="importe"
                class="form-control"
                placeholder="Importe"
              />
            </td>
            <td>
              <input
                type="text"
                class="form-control"
                name="periodo"
                id="periodo"
                list="periodos"
                placeholder="Periodo"
              />
              <datalist id="periodos">
                <option
                  *ngFor="let item of periods"
                  [value]="item.nombrePeriodo"
                >
                  {{
                    (item.fechaInicio | date) + " - " + (item.fechaFin | date)
                  }}
                </option>
              </datalist>
            </td>
            <td>{{ objMovimientos.fechaInicio | date }}</td>
            <td>{{ objMovimientos.fechaFin | date }}</td>
            <td class="text-center">
              <button type="button" class="btn btn-success btn-sm mx-1">
                <i class="fas fa-plus-circle"></i>
              </button>
            </td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
  <!-- Documentos adjuntos -->
  <!-- <div class="row box justify-content-center">
    <div class="col-12 text-center">
      <h5>Documentos adjuntos</h5>
    </div>

    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th>Documento</th>
            <th>Descarga</th>
            <th>Archivo</th>
            <th>Acción</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="dealMemo.documentos.length === 0">
            <td colspan="4" class="text-center font-weight-bold">
              Agrega documentos
            </td>
          </tr>
          <tr *ngFor="let item of dealMemo.documentos; let i = index">
            <td>{{ item.documento }}</td>
            <td>
              <a [href]="item.link" target="_blank">Descargar</a>
            </td>
            <td>{{ item.name }}</td>
            <td>
              <button type="button" class="btn btn-danger btn-sm mx-1">
                <i class="fas fa-times-circle"></i>
              </button>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td>
              <select
                class="form-control"
                name="selectDocumento"
                id="selectDocumento"
              >
                <option value="identificacionOficial">
                  Identificacion oficial
                </option>
                <option value="constanciaDeSituacionFiscal">
                  Constancia de Situación Fiscal
                </option>
                <option value="32D">32D</option>
                <option value="comprobanteDeDomicilio">
                  Comprobante de Domicilio
                </option>
                <option value="estadoDeCuenta">
                  Estado de Cuenta Bancario
                </option>
              </select>
            </td>
            <td class="text-center">
              <a *ngIf="objDocumento.link" [href]="objDocumento.link">Listo</a>
            </td>
            <td>
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="inputGroupFileAddon01"
                    >PDF</span
                  >
                </div>
                <div class="custom-file">
                  <input
                    type="file"
                    class="custom-file-input"
                    id="inputGroupFile01"
                    aria-describedby="inputGroupFileAddon01"
                    accept=".pdf"
                  />
                  <label
                    id="labelFile"
                    class="custom-file-label"
                    for="inputGroupFile01"
                    >Seleccionar</label
                  >
                </div>
              </div>
            </td>
            <td>
              <button
                  type="button"
                  class="btn btn-success btn-sm mx-1"
                  (click)="agregarDocumento()"
                >
                  <i class="fas fa-plus-circle"></i>
                </button>
            </td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div> -->
  <!-- Boton guardar -->
  <div class="row box text-center justify-content-center">
    <div class="col-auto">
      <button class="btn-enconexion" type="button">Guardar</button>
    </div>
  </div>
</div>
